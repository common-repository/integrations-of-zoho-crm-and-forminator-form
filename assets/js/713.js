"use strict";(self.webpackChunk_frm_in=self.webpackChunk_frm_in||[]).push([[713],{8880:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(6325),s=n(7953),a=n(7830),l=n(6363),o=n(8311),c=n(8127),r=n(5621);function d(e){var t,n,d,m,u=e.step,h=e.saveConfig,b=e.edit,f=e.disabled,x=e.isLoading,v=e.dataConf,g=void 0===v?null:v,p=e.setDataConf,j=void 0===p?null:p,_=e.formFields,C=void 0===_?[]:_;(0,s.useEffect)((function(){if(g&&(null==g||!g.condition)){var e=(0,i.A)({},g);e.condition={action_behavior:"",actions:[{field:"",action:"value"}],logics:[{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]},j(e)}}),[]);var N=function(e,t){var n=(0,i.A)({},g);n.condition.action_behavior=t?e:"",j(n)};return(0,r.jsxs)("div",{children:[(null==g?void 0:g.condition)&&b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flx",children:(0,r.jsx)(c.A,{onChange:function(e){return N(e.target.value,e.target.checked)},checked:"cond"===(null==g||null==(t=g.condition)?void 0:t.action_behavior),className:"wdt-200 mt-4 mr-2",value:"cond",title:(0,a.__)("Conditional Logics","bit_integration")})}),(0,r.jsx)("br",{}),"cond"===(null==g||null==(n=g.condition)?void 0:n.action_behavior)&&(0,r.jsx)(l.A,{formFields:C,dataConf:g,setDataConf:j})]}),(null==g?void 0:g.condition)&&2===u&&!b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flx pl-2",children:(0,r.jsx)(c.A,{onChange:function(e){return N(e.target.value,e.target.checked)},checked:"cond"===(null==g||null==(d=g.condition)?void 0:d.action_behavior),className:"wdt-200 mt-4 mr-2",value:"cond",title:(0,a.__)("Conditional Logics","bit_integration")})}),(0,r.jsx)("br",{}),"cond"===(null==g||null==(m=g.condition)?void 0:m.action_behavior)&&(0,r.jsx)(l.A,{formFields:C,dataConf:g,setDataConf:j})]}),b?(0,r.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,r.jsxs)("button",{onClick:h,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:x||f,children:[(0,a.__)("Update"),x&&(0,r.jsx)(o.A,{size:20,clr:"#022217",className:"ml-2"})]})}):(0,r.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===u&&"100%",height:3===u&&"auto"},children:[(0,r.jsx)("h2",{className:"ml-3",children:(0,a.__)("Successfully Integrated")}),(0,r.jsxs)("button",{onClick:h,className:"btn btcd-btn-lg green sh-sm",type:"button",disabled:x,children:[(0,a.__)("Finish & Save "),"✔",x&&(0,r.jsx)(o.A,{size:20,clr:"#022217",className:"ml-2"})]})]})]})}},7713:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i=n(6325),s=n(7953),a=(n(9101),n(5926)),l=n(7830),o=n(8075),c=n(5621);const r=function(e){var t=e.step,n=e.active,i=e.className;return(0,c.jsx)("div",{className:"d-in-b "+i,children:(0,c.jsxs)("div",{className:"flx flx-center",children:[Array(n).fill(0).map((function(e,t){return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("div",{className:"btcd-stp flx flx-center stp-a  txt-center",children:t+1}),n-1!==t&&(0,c.jsx)("div",{className:"btcd-stp-line stp-line-a"})]},"stp-"+(t+21))})),t-n!==0&&(0,c.jsx)("div",{className:"btcd-stp-line"}),Array(t-n).fill(0).map((function(e,i){return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("div",{className:"btcd-stp flx flx-center txt-center",children:i+n+1}),t-n-1!==i&&(0,c.jsx)("div",{className:"btcd-stp-line "})]},"stp-"+(i+23))}))]})})};var d=n(5467),m=n(8880),u=n(1542),h=n(9192),b=n(416);const f=function(e){var t=e.formFields,n=e.setFlow,f=e.flow,x=e.allIntegURL,v=(0,a.W6)(),g=(0,a.g)().formID,p=(0,s.useState)(!1),j=p[0],_=p[1],C=(0,s.useState)(1),N=C[0],y=C[1],k=(0,s.useState)({show:!1}),w=k[0],A=k[1],S=(0,s.useState)(0),I=S[0],L=S[1],z=(0,s.useState)({name:"Zoho CRM",type:"Zoho CRM",clientId:"",clientSecret:"",module:"",layout:"",field_map:[{formField:"",zohoFormField:""}],relatedlists:[],actions:{}}),F=z[0],R=z[1];return(0,s.useEffect)((function(){window.opener&&(0,d.setGrantTokenResponse)("zohoCRM")}),[]),document.querySelector(".btcd-s-wrp").scrollTop=0,(0,c.jsxs)("div",{children:[(0,c.jsx)(o.A,{snack:w,setSnackbar:A}),(0,c.jsx)("div",{className:"txt-center mt-2",children:(0,c.jsx)(r,{step:3,active:N})}),(0,c.jsx)(u.default,{formID:g,crmConf:F,setCrmConf:R,step:N,setstep:y,isLoading:j,setIsLoading:_,setSnackbar:A}),(0,c.jsxs)("div",{className:"btcd-stp-page",style:(0,i.A)({},2===N&&{width:900,height:"auto",overflow:"visible"}),children:[(0,c.jsx)(b.default,{tab:I,settab:L,formID:g,formFields:t,handleInput:function(e){return(0,h.handleInput)(e,I,F,R,g,_,A)},crmConf:F,setCrmConf:R,isLoading:j,setIsLoading:_,setSnackbar:A}),(0,c.jsxs)("button",{onClick:function(){return e=3,void((0,h.checkMappedFields)(F)?F.module&&F.layout&&F.field_map.length>0&&y(e):A({show:!0,msg:(0,l.__)("Please map mandatory fields","bit-integrations")}));var e},disabled:""===F.module||""===F.layout||F.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[(0,l.__)("Next","bit-integrations")," "," ",(0,c.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),(0,c.jsx)(m.default,{step:N,saveConfig:function(){(0,d.saveActionConf)({flow:f,setFlow:n,allIntegURL:x,conf:F,history:v,setIsLoading:_,setSnackbar:A})},isLoading:j,dataConf:F,setDataConf:R,formFields:t})]})}},1542:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(6325),s=n(7953),a=n(4143),l=n(7830),o=n(5596),c=n(8311),r=n(9192),d=n(5467),m=n(7741),u=n(5621);function h(e){var t=e.formID,n=e.crmConf,h=e.setCrmConf,b=e.step,f=e.setstep,x=e.isLoading,v=e.setIsLoading,g=e.setSnackbar,p=e.redirectLocation,j=e.isInfo,_=(0,s.useState)(!1),C=_[0],N=_[1],y=(0,s.useState)({dataCenter:"",clientId:"",clientSecret:""}),k=y[0],w=y[1],A=(0,a.vc)(m.pB),S=function(e){var t=(0,i.A)({},n),s=(0,i.A)({},k);s[e.target.name]="",t[e.target.name]=e.target.value,w(s),h(t)};return(0,u.jsxs)("div",{className:"btcd-stp-page",style:(0,i.A)({},{width:1===b&&900},{height:1===b&&"auto"}),children:[(0,u.jsx)("div",{className:"mt-3",children:(0,u.jsx)("b",{children:(0,l.__)("Integration Name:","bit-integrations")})}),(0,u.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:S,name:"name",value:n.name,type:"text",placeholder:(0,l.__)("Integration Name...","bit-integrations"),disabled:j}),(0,u.jsx)("div",{className:"mt-3",children:(0,u.jsx)("b",{children:(0,l.__)("Data Center:","bit-integrations")})}),(0,u.jsxs)("select",{onChange:S,name:"dataCenter",value:n.dataCenter,className:"btcd-paper-inp w-6 mt-1",disabled:j,children:[(0,u.jsx)("option",{value:"",children:(0,l.__)("--Select a data center--","bit-integrations")}),(0,u.jsx)("option",{value:"com",children:"zoho.com"}),(0,u.jsx)("option",{value:"eu",children:"zoho.eu"}),(0,u.jsx)("option",{value:"com.cn",children:"zoho.com.cn"}),(0,u.jsx)("option",{value:"in",children:"zoho.in"}),(0,u.jsx)("option",{value:"com.au",children:"zoho.com.au"})]}),(0,u.jsx)("div",{style:{color:"red"},children:k.dataCenter}),(0,u.jsx)("div",{className:"mt-3",children:(0,u.jsx)("b",{children:(0,l.__)("Homepage URL:","bit-integrations")})}),(0,u.jsx)(o.A,{value:""+window.location.origin,setSnackbar:g,className:"field-key-cpy w-6 ml-0",readOnly:j}),(0,u.jsx)("div",{className:"mt-3",children:(0,u.jsx)("b",{children:(0,l.__)("Authorized Redirect URIs:","bit-integrations")})}),(0,u.jsx)(o.A,{value:p||A.api.base+"/redirect",setSnackbar:g,className:"field-key-cpy w-6 ml-0",readOnly:j}),(0,u.jsxs)("small",{className:"d-blk mt-5",children:[(0,l.__)("To get Client ID and SECRET , Please Visit","bit-integrations")," ",(0,u.jsx)("a",{className:"btcd-link",href:"https://api-console.zoho."+((null==n?void 0:n.dataCenter)||"com")+"/",target:"_blank",rel:"noreferrer",children:(0,l.__)("Zoho API Console","bit-integrations")})]}),(0,u.jsx)("div",{className:"mt-3",children:(0,u.jsx)("b",{children:(0,l.__)("Client id:","bit-integrations")})}),(0,u.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:S,name:"clientId",value:n.clientId,type:"text",placeholder:(0,l.__)("Client id...","bit-integrations"),disabled:j}),(0,u.jsx)("div",{style:{color:"red"},children:k.clientId}),(0,u.jsx)("div",{className:"mt-3",children:(0,u.jsx)("b",{children:(0,l.__)("Client secret:","bit-integrations")})}),(0,u.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:S,name:"clientSecret",value:n.clientSecret,type:"text",placeholder:(0,l.__)("Client secret...","bit-integrations"),disabled:j}),(0,u.jsx)("div",{style:{color:"red"},children:k.clientSecret}),!j&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("button",{onClick:function(){return(0,d.handleAuthorize)("zohoCRM","zcrm","ZohoCRM.modules.ALL,ZohoCRM.settings.ALL,ZohoCRM.users.Read,zohocrm.files.CREATE",n,h,w,N,v,g,A)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:C||x,children:[C?(0,l.__)("Authorized ✔","bit-integrations"):(0,l.__)("Authorize","bit-integrations"),x&&(0,u.jsx)(c.A,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("button",{onClick:function(){f(2),!n.module&&(0,r.refreshModules)(t,n,h,v,g),document.querySelector(".btcd-s-wrp").scrollTop=0},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!C,children:[(0,l.__)("Next","bit-integrations"),(0,u.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]})]})}}}]);