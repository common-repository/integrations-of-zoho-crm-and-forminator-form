"use strict";(self.webpackChunk_frm_in=self.webpackChunk_frm_in||[]).push([[564],{6564:(e,t,a)=>{a.r(t),a.d(t,{addFieldMap:()=>d,delFieldMap:()=>p,handleCustomValue:()=>u,handleFieldMapping:()=>_,handleGoogleAuthorize:()=>s,setGrantTokenResponse:()=>o});var l=a(6325),i=a(7830),r=a(8496),n=a(8450),o=function(e){var t={},a=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");a&&a.forEach((function(e){var a=e.split("=");a[1]&&(t[a[0]]=a[1])})),localStorage.setItem("__"+e,JSON.stringify(t)),window.close()},s=function(e,t,a,r,n,o,s,d,p){if(r.clientId&&r.clientSecret){d(!0);var _="https://accounts.google.com/o/oauth2/v2/auth?scope="+a+"&access_type=offline&prompt=consent&response_type=code&state="+encodeURIComponent(window.location.href)+"/redirect&redirect_uri="+encodeURIComponent(e_zc.api.base+"/redirect")+"&client_id="+r.clientId,u=window.open(_,e,"width=400,height=609,toolbar=off"),f=setInterval((function(){if(u.closed){clearInterval(f);var a={},o=!1,_=localStorage.getItem("__"+e);if(_&&(o=!0,a=JSON.parse(_),localStorage.removeItem("__"+e)),a.code&&!a.error&&a&&o){var m=(0,l.A)({},r);m.accountServer=a["accounts-server"],c(t,a,m,n,s,d,p)}else{var g=a.error?"Cause: "+a.error:"";p({show:!0,msg:(0,i.__)("Authorization failed")+" "+g+". "+(0,i.__)("please try again")}),d(!1)}}}),500)}else o({clientId:r.clientId?"":(0,i.__)("Client ID cann't be empty"),clientSecret:r.clientSecret?"":(0,i.__)("Secret key cann't be empty")})},c=function(e,t,a,o,s,c,d){var p=(0,l.A)({},t);p.clientId=a.clientId,p.clientSecret=a.clientSecret,p.redirectURI=(null==n.FH?void 0:n.FH.base)+"/redirect",(0,r.A)(p,e+"_generate_token").then((function(e){return e})).then((function(e){if(e&&e.success){var t=(0,l.A)({},a);t.tokenDetails=e.data,o(t),s(!0),d({show:!0,msg:(0,i.__)("Authorized Successfully")})}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?d({show:!0,msg:""+(0,i.__)("Authorization failed Cause:")+(e.data.data||e.data)+". "+(0,i.__)("please try again")}):d({show:!0,msg:(0,i.__)("Authorization failed. please try again")});c(!1)}))},d=function(e,t,a,i,r){var n=(0,l.A)({},t);r?i?n.relatedlists[r-1].upload_field_map.splice(e,0,{}):n.relatedlists[r-1].field_map.splice(e,0,{}):i?n.upload_field_map.splice(e,0,{}):n.field_map.splice(e,0,{}),a((0,l.A)({},n))},p=function(e,t,a,i,r){var n=(0,l.A)({},t);r?i?n.relatedlists[r-1].upload_field_map.length>1&&n.relatedlists[r-1].upload_field_map.splice(e,1):n.relatedlists[r-1].field_map.length>1&&n.relatedlists[r-1].field_map.splice(e,1):i?n.upload_field_map.length>1&&n.upload_field_map.splice(e,1):n.field_map.length>1&&n.field_map.splice(e,1),a((0,l.A)({},n))},_=function(e,t,a,i,r,n){var o=(0,l.A)({},a);n?r?o.relatedlists[n-1].upload_field_map[t][e.target.name]=e.target.value:o.relatedlists[n-1].field_map[t][e.target.name]=e.target.value:r?o.upload_field_map[t][e.target.name]=e.target.value:o.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(n?o.relatedlists[n-1].field_map[t].customValue="":o.field_map[t].customValue=""),i((0,l.A)({},o))},u=function(e,t,a,i,r){var n=(0,l.A)({},a);r?n.relatedlists[r-1].field_map[t].customValue=e.target.value:n.field_map[t].customValue=e.target.value,i((0,l.A)({},n))}}}]);