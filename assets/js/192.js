"use strict";(self.webpackChunk_frm_in=self.webpackChunk_frm_in||[]).push([[192],{9192:(e,t,l)=>{l.r(t),l.d(t,{checkMappedFields:()=>F,generateMappedField:()=>_,handleInput:()=>n,handleTabChange:()=>r,layoutChange:()=>o,moduleChange:()=>d,refreshAssigmentRules:()=>h,refreshLayouts:()=>f,refreshModules:()=>u,refreshOwners:()=>g,refreshRelatedList:()=>c,refreshTags:()=>m});var a=l(6325),s=l(7830),i=l(8496),n=function(e,t,l,s,i,n,r,u,f,c){var m=(0,a.A)({},l);if(0===t){if(u){var g=(0,a.A)({},f);g[e.target.name]="",c((0,a.A)({},g))}m[e.target.name]=e.target.value}else m.relatedlists||(m.relatedlists=[]),m.relatedlists[t-1][e.target.name]=e.target.value;switch(e.target.name){case"module":m=d(t,i,m,s,n,r);break;case"layout":m=o(t,i,m,s,n,r)}s((0,a.A)({},m))},r=function(e,t,l,a,s,i,n){var r;e&&((null==(r=a.default)||null==(r=r.relatedlists)||!r[a.module])&&c(l,a,s,i,n));t(e)},d=function(e,t,l,s,i,n){var r,d=(0,a.A)({},l),u=0===e?d.module:d.relatedlists[e-1].module;if(d.relatedlists[e-1]||(d.relatedlists[e-1]={}),0===e?(d.layout="",d.actions={},d.field_map=[{formField:"",zohoFormField:""}],d.upload_field_map=[{formField:"",zohoFormField:""}],d.relatedlists=[]):(d.relatedlists[e-1].layout="",d.relatedlists[e-1].actions={},d.relatedlists[e-1].field_map=[{formField:"",zohoFormField:""}],d.relatedlists[e-1].upload_field_map=[{formField:"",zohoFormField:""}]),null!=(r=d.default.layouts)&&r[u]){var c,m=Object.keys(null==(c=d.default.layouts)?void 0:c[u]);1===m.length&&(0===e?d.layout=m[0]:d.relatedlists[e-1].layout=m[0],d=o(e,t,d,s,i,n))}else f(e,t,d,s,i,n);return d},o=function(e,t,l,s,i,n){var r,d,o,u,f,c=(0,a.A)({},l),g=0===e?c.module:c.relatedlists[e-1].module,h=0===e?c.layout:c.relatedlists[e-1].layout;0===e?(c.actions={},c.field_map=null!=c&&null!=(d=c.default)&&null!=(d=d.layouts)&&null!=(d=d[g])&&null!=(d=d[h])&&d.required?_(e,c):[{formField:"",zohoFormField:""}],c.upload_field_map=null!=c&&null!=(o=c.default)&&null!=(o=o.layouts)&&null!=(o=o[g])&&null!=(o=o[h])&&o.requiredFileUploadFields&&Object.keys(c.default.layouts[g][h].requiredFileUploadFields).length>0?_(e,c,!0):[{formField:"",zohoFormField:""}]):(c.relatedlists[e-1].actions={},c.relatedlists[e-1].field_map=null!=c&&null!=(u=c.default)&&null!=(u=u.layouts)&&null!=(u=u[g])&&null!=(u=u[h])&&u.required?_(e,c):[{formField:"",zohoFormField:""}],c.relatedlists[e-1].upload_field_map=null!=c&&null!=(f=c.default)&&null!=(f=f.layouts)&&null!=(f=f[g])&&null!=(f=f[h])&&f.requiredFileUploadFields&&Object.keys(c.default.layouts[g][h].requiredFileUploadFields).length>0?_(e,c,!0):[{formField:"",zohoFormField:""}]);return(null==(r=c.default.tags)||!r[g])&&m(e,t,c,s,i,n),c},u=function(e,t,l,n,r){n(!0);var d={formID:e,id:t.id,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails};(0,i.A)(d,"zcrm_refresh_modules").then((function(e){if(e&&e.success){var i=(0,a.A)({},t);i.default||(i.default={}),e.data.modules&&(i.default.modules=e.data.modules),e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),l((0,a.A)({},i)),r({show:!0,msg:(0,s.__)("Modules refreshed","bit-integrations")})}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?r({show:!0,msg:(0,s.n)((0,s.__)("Modules refresh failed Cause: %s. please try again","bit-integrations"),e.data.data||e.data)}):r({show:!0,msg:(0,s.__)("Modules refresh failed. please try again","bit-integrations")});n(!1)})).catch((function(){return n(!1)}))},f=function(e,t,l,n,r,d){var o=(0,a.A)({},l),u=0===e?o.module:o.relatedlists[e-1].module;if(u){r(!0);var f={formID:t,module:u,dataCenter:o.dataCenter,clientId:o.clientId,clientSecret:o.clientSecret,tokenDetails:o.tokenDetails};(0,i.A)(f,"zcrm_refresh_layouts").then((function(l){var i;if(l&&l.success){if(l.data.layouts){o.default.layouts||(o.default.layouts={}),o.default.layouts[u]=l.data.layouts;var f,c=[].concat(Object.keys(l.data.layouts));if(1===c.length)0===e?(o.layout=c[0],o.field_map=_(e,o),Object.keys(l.data.layouts[c].fileUploadFields).length>0&&(o.upload_field_map=_(e,o,!0))):(o.relatedlists[e-1].layout=c[0],o.relatedlists[e-1].field_map=_(e,o),Object.keys(l.data.layouts[c].fileUploadFields).length>0&&(o.relatedlists[e-1].upload_field_map=_(e,o,!0))),null!=(f=o.default.tags)&&f[u]||m(e,t,o,n,r,d)}l.data.tokenDetails&&(o.tokenDetails=l.data.tokenDetails),n((0,a.A)({},o)),d({show:!0,msg:(0,s.__)("Layouts refreshed","bit-integrations")})}else null!=l&&null!=(i=l.data)&&i.data||!l.success&&"string"===typeof l.data?d({show:!0,msg:(0,s.n)((0,s.__)("Layouts refresh failed Cause: %s. please try again","bit-integrations"),l.data.data||l.data)}):d({show:!0,msg:(0,s.__)("Layouts refresh failed. please try again","bit-integrations")});r(!1)})).catch((function(){return r(!1)}))}},c=function(e,t,l,n,r){if(t.module){n(!0);var d={formID:e,module:t.module,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails};(0,i.A)(d,"zcrm_get_related_lists").then((function(e){var i;if(e&&e.success){var d=(0,a.A)({},t);e.data.relatedLists&&(d.default.relatedlists||(d.default.relatedlists={}),d.default.relatedlists[d.module]=(0,a.A)({},e.data.relatedLists)),e.data.tokenDetails&&(d.tokenDetails=e.data.tokenDetails),l((0,a.A)({},d)),r({show:!0,msg:(0,s.__)("RelatedLists refreshed","bit-integrations")})}else null!=e&&null!=(i=e.data)&&i.data||!e.success&&"string"===typeof e.data?r({show:!0,msg:""+(0,s.__)("RelatedLists refresh failed Cause:")+(e.data.data||e.data)+". "+(0,s.__)("please try again","bit-integrations")}):r({show:!0,msg:(0,s.__)("RelatedLists refresh failed. please try again","bit-integrations")});n(!1)})).catch((function(){return n(!1)}))}},m=function(e,t,l,n,r,d){var o=0===e?l.module:l.relatedlists[e-1].module;if(o){r(!0);var u={formID:t,module:o,dataCenter:l.dataCenter,clientId:l.clientId,clientSecret:l.clientSecret,tokenDetails:l.tokenDetails};(0,i.A)(u,"zcrm_get_tags").then((function(e){var t;if(null!=e&&e.success){var i=(0,a.A)({},l);e.data.tags&&(i.default.tags||(i.default.tags={}),i.default.tags[o]=(0,a.A)({},e.data.tags)),e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),n((0,a.A)({},i)),d({show:!0,msg:(0,s.__)("Tags refreshed","bit-integrations")})}else null!=e&&null!=(t=e.data)&&t.data||!e.success&&"string"===typeof e.data?d({show:!0,msg:""+(0,s.__)("Tags refresh failed Cause:","bit-integrations")+(e.data.data||e.data)+". "+(0,s.__)("please try again","bit-integrations")}):d({show:!0,msg:(0,s.__)("Tags refresh failed. please try again","bit-integrations")});r(!1)})).catch((function(){return r(!1)}))}},g=function(e,t,l,n,r){n(!0);var d={formID:e,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails};(0,i.A)(d,"zcrm_get_users").then((function(e){if(null!=e&&e.success){var i=(0,a.A)({},t);i.default.crmOwner=e.data.users,e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),l((0,a.A)({},i)),r({show:!0,msg:(0,s.__)("Owners refreshed","bit-integrations")})}else r({show:!0,msg:(0,s.__)("Owners refresh failed. please try again","bit-integrations")});n(!1)})).catch((function(){return n(!1)}))},h=function(e,t,l,n,r){var d=0===e?t.module:t.relatedlists[e-1].module;if(d){n(!0);var o={module:d,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails};(0,i.A)(o,"zcrm_get_assignment_rules").then((function(e){if(null!=e&&e.success){var i=(0,a.A)({},t);i.default.assignmentRules||(i.default.assignmentRules={}),e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),i.default.assignmentRules[d]=(0,a.A)({},e.data.assignmentRules),l((0,a.A)({},i)),r({show:!0,msg:(0,s.__)("Assignment Rules refreshed","bit-integrations")})}else r({show:!0,msg:(0,s.__)("Assignment Rules refresh failed. please try again","bit-integrations")});n(!1)})).catch((function(){return n(!1)}))}},_=function(e,t,l){var a=0===e?t.module:t.relatedlists[e-1].module,s=0===e?t.layout:t.relatedlists[e-1].layout;return l?t.default.layouts[a][s].requiredFileUploadFields.length>0?t.default.layouts[a][s].requiredFileUploadFields.map((function(e){return{formField:"",zohoFormField:e}})):[{formField:"",zohoFormField:""}]:t.default.layouts[a][s].required.length>0?t.default.layouts[a][s].required.map((function(e){return{formField:"",zohoFormField:e}})):[{formField:"",zohoFormField:""}]},F=function(e){var t=null!=e&&e.field_map?e.field_map.filter((function(t){var l;return!t.formField&&t.zohoFormField&&-1!==(null==e||null==(l=e.default)||null==(l=l.layouts)||null==(l=l[e.module])||null==(l=l[e.layout])?void 0:l.required.indexOf(t.zohoFormField))})):[],l=null!=e&&e.upload_field_map?e.upload_field_map.filter((function(t){return!t.formField&&t.zohoFormField&&-1!==e.default.layouts[e.module][e.layout].requiredFileUploadFields.indexOf(t.zohoFormField)})):[],a=e.relatedlists.map((function(e){return e.field_map.filter((function(e){return!e.formField&&e.zohoFormField}))})),s=e.relatedlists.map((function(e){return e.upload_field_map.filter((function(e){return!e.formField&&e.zohoFormField}))}));return!(t.length>0||l.length>0||a.some((function(e){return e.length}))||s.some((function(e){return e.length})))}}}]);