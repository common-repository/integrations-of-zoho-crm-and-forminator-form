"use strict";(self.webpackChunk_frm_in=self.webpackChunk_frm_in||[]).push([[212],{8269:(e,a,n)=>{n.d(a,{Zk:()=>d,oz:()=>c,tU:()=>r});var t=n(7953);const s=function(e){var a=(0,t.useRef)();return a.current||(a.current={v:e()}),a.current.v},l=(0,t.createContext)(),i=(0,t.createContext)(),r=({state:e,children:a})=>{const n=(0,t.useState)(0),r=s((()=>({tabs:0,panels:0}))),c=e||n;return t.createElement(i.Provider,{value:r},t.createElement(l.Provider,{value:c},a))},c=({children:e})=>{const a=(()=>{const[e,a]=(0,t.useContext)(l),n=(0,t.useContext)(i),r=s((()=>{const e=n.tabs;return n.tabs+=1,e})),c=s((()=>()=>a(r)));return(0,t.useMemo)((()=>({isActive:e===r,onClick:c})),[e,c,r])})();return"function"===typeof e?e(a):(0,t.isValidElement)(e)?(0,t.cloneElement)(e,a):e},d=({active:e,children:a})=>(()=>{const[e]=(0,t.useContext)(l),a=(0,t.useContext)(i);return s((()=>{const e=a.panels;return a.panels+=1,e}))===e})()||e?a:null},8810:(e,a,n)=>{n.r(a),n.d(a,{default:()=>m});var t=n(6325),s=n(7953),l=n(5774),i=n(3503),r=n(8537),c=n(7830),d=n(2210),o=n(8127),u=n(5621);const m=function(e){var a,n,m,v=e.formFields,p=e.webHooks,h=e.setWebHooks,f=e.isInfo,x=e.setTab;(0,s.useEffect)((function(){var e=(0,t.A)({},p);e.body||(e.body={type:"",data:[]},h(e)),x(3)}),[]);var b=function(e,a){var n,s=(0,t.A)({},p);s.body.data[a]=(0,t.A)({},s.body.data[a],((n={})[e.target.name]=e.target.value,n)),h(s)};return(0,u.jsxs)("div",{className:"mt-2",children:[(0,u.jsx)(o.A,{isInfo:f,checked:(null==p||null==(a=p.body)?void 0:a.send_all_data)||!1,onChange:function(e){var a,n,s=(0,t.A)({},p),l=function(){var e=[];return v.map((function(a){var n=a.name;e.push({key:n,value:"${"+n+"}"})})),e}();e.target.checked?(s.body.send_all_data=!0,s.body.data=l):(null==s||null==(a=s.body)||delete a.data,null==s||null==(n=s.body)||delete n.send_all_data);h((0,t.A)({},s))},className:"wdt-200 mt-4 mr-2 mb-2",value:"Send All Data",title:(0,c.__)("Send All Data")}),(0,u.jsx)("div",{className:"f-m",children:(0,c.__)("Add Request Payload")}),(0,u.jsxs)("select",{name:"method",onChange:function(e){var a=(0,t.A)({},p);a.body.type=e.target.value,h(a)},defaultValue:null==p||null==(n=p.body)?void 0:n.type,className:"btcd-paper-inp w-8",disabled:f,children:[(0,u.jsx)("option",{children:"-- Select Content-Type --"}),(0,u.jsx)("option",{value:"application/json",children:"application/json"}),(0,u.jsx)("option",{value:"multipart/form-data",children:"multipart/form-data"}),(0,u.jsx)("option",{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"})]}),(0,u.jsx)("div",{className:"btcd-param-t-wrp mt-1",children:(0,u.jsxs)("div",{className:"btcd-param-t",children:[(0,u.jsxs)("div",{className:"tr",children:[(0,u.jsx)("div",{className:"td",children:(0,c.__)("Key")}),(0,u.jsx)("div",{className:"td",children:(0,c.__)("Value")})]}),null==(m=p.body)||null==(m=m.data)?void 0:m.map((function(e,a){return(0,u.jsxs)("div",{className:"tr",children:[(0,u.jsx)("div",{className:"td",children:(0,u.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(e){return b(e,a)},name:"key",type:"text",value:e.key,disabled:f})}),(0,u.jsx)("div",{className:"td",children:(0,u.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(e){return b(e,a)},name:"value",type:"text",value:e.value,disabled:f})}),!f&&(0,u.jsxs)("div",{className:"flx p-atn",children:[(0,u.jsx)(d.A,{onClick:function(){return function(e){var a=(0,t.A)({},p);a.body.data.splice(e,1),h(a)}(a)},icn:!0,children:(0,u.jsx)(r.A,{size:16})}),(0,u.jsx)(l.A,{options:v.map((function(e){return{label:e.label,value:"${"+e.name+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(e){return function(e,a){var n=(0,t.A)({},p);n.body.data[a]=(0,t.A)({},n.body.data[a],{value:e}),h(n)}(e,a)},defaultValue:e.value})]})]},"fu-1"+3*a)})),!f&&(0,u.jsx)(d.A,{onClick:function(){return function(){var e=(0,t.A)({},p);e.body.data||(e.body.data=[]),e.body.data.push({}),h(e)}()},className:"add-pram",icn:!0,children:(0,u.jsx)(i.A,{size:"14",className:"icn-rotate-45"})})]})})]})}},8552:(e,a,n)=>{n.r(a),n.d(a,{default:()=>u});var t=n(6325),s=n(7953),l=n(5774),i=n(7830),r=n(3503),c=n(8537),d=n(2210),o=n(5621);const u=function(e){var a,n=e.formFields,u=e.webHooks,m=e.setWebHooks,v=e.isInfo,p=e.setTab;(0,s.useEffect)((function(){p(1)}),[]);var h=function(e){return null==e?void 0:e.match(/(\?|&)([^=]+)=([^&]+|)/gi)},f=function(e,a,n){var s=(0,t.A)({},u);""!==a?s.url="key"===e?s.url.replace(n,""+n.charAt(0)+a+"="+n.split("=")[1]):s.url.replace(n,n.split("=")[0]+"="+a):null===n.match(/\?/g)?s.url=s.url.replace(n,""):s.url=s.url.replace(n+"&","?"),m(s)};return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("div",{className:"f-m",children:(0,i.__)("Add Url Parameter: (optional)")}),(0,o.jsx)("div",{className:"btcd-param-t-wrp mt-1",children:(0,o.jsxs)("div",{className:"btcd-param-t",children:[(0,o.jsxs)("div",{className:"tr",children:[(0,o.jsx)("div",{className:"td",children:(0,i.__)("Key")}),(0,o.jsx)("div",{className:"td",children:(0,i.__)("Value")})]}),null!==h(u.url)&&(null==(a=h(u.url))?void 0:a.map((function(e,a){return(0,o.jsxs)("div",{className:"tr",children:[(0,o.jsx)("div",{className:"td",children:(0,o.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(a){return f("key",a.target.value,e)},type:"text",value:e.split("=")[0].substr(1),disabled:v})}),(0,o.jsx)("div",{className:"td",children:(0,o.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(a){return f("val",a.target.value,e)},type:"text",value:e.split("=")[1],disabled:v})}),!v&&(0,o.jsxs)("div",{className:"flx p-atn",children:[(0,o.jsx)(d.A,{onClick:function(){return function(e){var a=(0,t.A)({},u);a.url=a.url.replace(e,""),m(a)}(e)},icn:!0,children:(0,o.jsx)(c.A,{size:16})}),(0,o.jsx)(l.A,{options:n.map((function(e){return{label:e.label,value:"${"+e.name+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(a){return function(e,a){var n=(0,t.A)({},u),s=a.split("=");s[1]=e,n.url=n.url.replace(a,s.join("=")),m(n)}(a,e)},defaultValue:e.split("=")[1]})]})]},"fu-1"+3*a)}))),!v&&(0,o.jsx)(d.A,{onClick:function(){return function(){var e=(0,t.A)({},u);null!==e.url.match(/\?/g)?e.url+="&key=value":e.url+="?key=value",m(e)}()},className:"add-pram",icn:!0,children:(0,o.jsx)(r.A,{size:"14",className:"icn-rotate-45"})})]})})]})}},4597:(e,a,n)=>{n.r(a),n.d(a,{default:()=>u});var t=n(6325),s=n(7953),l=n(5774),i=n(3503),r=n(8537),c=n(7830),d=n(2210),o=n(5621);const u=function(e){var a,n=e.formFields,u=e.webHooks,m=e.setWebHooks,v=e.isInfo,p=e.setTab;(0,s.useEffect)((function(){p(2)}),[]);var h=function(e,a){var n,s=(0,t.A)({},u);s.headers[a]=(0,t.A)({},s.headers[a],((n={})[e.target.name]=e.target.value,n)),m(s)};return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("div",{className:"f-m",children:(0,c.__)("Add Request Headers: (optional)")}),(0,o.jsx)("div",{className:"btcd-param-t-wrp mt-1",children:(0,o.jsxs)("div",{className:"btcd-param-t",children:[(0,o.jsxs)("div",{className:"tr",children:[(0,o.jsx)("div",{className:"td",children:(0,c.__)("Key")}),(0,o.jsx)("div",{className:"td",children:(0,c.__)("Value")})]}),null==(a=u.headers)?void 0:a.map((function(e,a){return(0,o.jsxs)("div",{className:"tr",children:[(0,o.jsx)("div",{className:"td",children:(0,o.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(e){return h(e,a)},name:"key",type:"text",value:e.key,disabled:v})}),(0,o.jsx)("div",{className:"td",children:(0,o.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(e){return h(e,a)},name:"value",type:"text",value:e.value,disabled:v})}),!v&&(0,o.jsxs)("div",{className:"flx p-atn",children:[(0,o.jsx)(d.A,{onClick:function(){return function(e){var a=(0,t.A)({},u);a.headers.splice(e,1),m(a)}(a)},icn:!0,children:(0,o.jsx)(r.A,{size:16})}),(0,o.jsx)(l.A,{options:n.map((function(e){return{label:e.label,value:"${"+e.name+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(e){return function(e,a){var n=(0,t.A)({},u);n.headers[a]=(0,t.A)({},n.headers[a],{value:e}),m(n)}(e,a)},defaultValue:e.value})]})]},"fu-1"+3*a)})),!v&&(0,o.jsx)(d.A,{onClick:function(){return function(){var e=(0,t.A)({},u);e.headers||(e.headers=[]),e.headers.push({}),m(e)}()},className:"add-pram",icn:!0,children:(0,o.jsx)(i.A,{size:"14",className:"icn-rotate-45"})})]})})]})}},5362:(e,a,n)=>{n.r(a),n.d(a,{default:()=>x});var t=n(6325),s=n(7953),l=n(8269),i=n(5621);function r(e){var a=e.size,n=void 0===a?14:a,t=e.stroke,s=void 0===t?3:t,l=e.className;return(0,i.jsx)("svg",{className:l,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 30 30",children:(0,i.jsx)("polyline",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:s,points:"26 15.2 4 15.2 12.38 23.69 4 15.2 12.77 6.31"})})}var c=n(8496),d=n(7830),o=n(2210),u=n(8311),m=n(8552),v=n(4597),p=n(8810),h=n(8127),f=n(6363);function x(e){var a,n,x=e.formFields,b=e.webHooks,j=e.setWebHooks,N=e.setStep,k=e.setSnackbar,_=e.create,g=e.isInfo,y=(0,s.useState)(!1),A=y[0],C=y[1],w=(0,s.useState)(1),T=w[0],H=w[1],E=function(e){var a=(0,t.A)({},b);a[e.target.name]=e.target.value,j((0,t.A)({},a))};(0,s.useEffect)((function(){if(b&&(null==b||!b.condition)){var e=(0,t.A)({},b);e.condition={action_behavior:"",actions:[{field:"",action:"value"}],logics:[{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]},j(e)}}),[]);return(0,i.jsxs)("div",{style:(0,t.A)({},{width:g&&900}),children:[(0,i.jsx)("div",{className:"flx ",children:(0,i.jsxs)("div",{className:"w-8 mr-2 mt-2 mb-4",children:[(0,i.jsx)("div",{className:"f-m",children:(0,d.__)("Integration name")}),(0,i.jsx)("input",{name:"name",onChange:function(e){return E(e)},className:"btcd-paper-inp mt-1",type:"text",value:b.name,disabled:g})]})}),(0,i.jsxs)("div",{className:"flx",children:[(0,i.jsxs)("div",{className:"w-5 mr-2 ",children:[(0,i.jsx)("div",{className:"f-m",children:(0,d.__)("Link:")}),(0,i.jsx)("input",{name:"url",onChange:function(e){return E(e)},className:"btcd-paper-inp mt-1",type:"text",value:b.url,disabled:g})]}),(0,i.jsxs)("div",{className:"w-3",children:[(0,i.jsx)("div",{className:"f-m",children:(0,d.__)("Method:")}),(0,i.jsx)("select",{name:"method",onChange:function(e){return E(e)},defaultValue:b.method,className:"btcd-paper-inp mt-1",disabled:g,children:["GET","POST","PUT","PATCH","OPTION","DELETE","TRACE","CONNECT"].map((function(e,a){return(0,i.jsx)("option",{value:e,children:e},"method-"+2*a)}))})]})]}),(null==b?void 0:b.apiConsole)&&(0,i.jsxs)("small",{className:"d-blk mt-2",children:[(0,d.__)("To got Webhook , Please Visit")," ",(0,i.jsx)("a",{className:"btcd-link",href:b.apiConsole,target:"_blank",rel:"noreferrer",children:(0,d.__)(b.type+" Dashboard")})]}),!g&&(0,i.jsxs)(o.A,{onClick:function(){return e=b,C(!0),void(0,c.A)({hookDetails:e},"test_webhook").then((function(e){if(e&&e.success)k({show:!0,msg:""+e.data}),C(!1);else if(e&&e.data){var a="string"===typeof e.data?e.data:"Unknown error";k({show:!0,msg:a+". "+(0,d.__)("please try again")}),C(!1)}else k({show:!0,msg:(0,d.__)("Webhook tests failed. please try again")}),C(!1)}));var e},className:"btn btcd-btn-o-blue",children:[(0,d.__)("Test Webhook"),A&&(0,i.jsx)(u.A,{size:14,clr:"#022217",className:"ml-2"})]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsxs)(l.tU,{children:[(0,i.jsxs)("div",{className:"flx mt-2",children:[(0,i.jsx)(l.oz,{children:(0,i.jsx)("button",{className:"btcd-s-tab-link "+(1===T&&"s-t-l-active"),type:"button",children:(0,d.__)("Params")})}),(0,i.jsx)(l.oz,{children:(0,i.jsx)("button",{className:"btcd-s-tab-link "+(2===T&&"s-t-l-active"),type:"button",children:(0,d.__)("Headers")})}),(0,i.jsx)(l.oz,{children:(0,i.jsx)("button",{className:"btcd-s-tab-link "+(3===T&&"s-t-l-active"),type:"button",children:(0,d.__)("Body")})})]}),(0,i.jsx)("div",{className:"btcd-hr"}),(0,i.jsx)(l.Zk,{children:(0,i.jsx)(m.default,{webHooks:b,setWebHooks:j,formFields:x,isInfo:g,setTab:H})}),(0,i.jsx)(l.Zk,{children:(0,i.jsx)(v.default,{webHooks:b,setWebHooks:j,formFields:x,isInfo:g,setTab:H})}),(0,i.jsx)(l.Zk,{children:(0,i.jsx)(p.default,{webHooks:b,setWebHooks:j,formFields:x,isInfo:g,setTab:H})})]}),(null==b?void 0:b.condition)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"flx",children:(0,i.jsx)(h.A,{onChange:function(e){return function(e,a){var n=(0,t.A)({},b);n.condition.action_behavior=a?e:"",j(n)}(e.target.value,e.target.checked)},checked:"cond"===(null==b||null==(a=b.condition)?void 0:a.action_behavior),className:"wdt-200 mt-4 mr-2",value:"cond",title:(0,d.__)("Conditional Logics","bit_integration"),isInfo:g})}),(0,i.jsx)("br",{}),"cond"===(null==b||null==(n=b.condition)?void 0:n.action_behavior)&&(0,i.jsx)(f.A,{formFields:x,dataConf:b,setDataConf:j})]}),_&&(0,i.jsxs)("button",{onClick:function(){return setTimeout((function(){document.getElementById("btcd-settings-wrp").scrollTop=0}),300),void N(2)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",children:[(0,d.__)("Next"),(0,i.jsx)(r,{className:"ml-1 rev-icn"})]})]})}},8201:(e,a,n)=>{n.d(a,{A:()=>s});var t=n(5621);const s=function(e){var a=e.label,n=e.onChange,s=e.value,l=e.disabled,i=e.type,r=e.textarea,c=e.className;return(0,t.jsxs)("label",{className:"btcd-mt-inp "+c,children:[!r&&(0,t.jsx)("input",{type:void 0===i?"text":i,onChange:n,placeholder:" ",disabled:l,value:s}),r&&(0,t.jsx)("textarea",{type:void 0===i?"text":i,onChange:n,placeholder:" ",disabled:l,value:s}),(0,t.jsx)("span",{children:a})]})}}}]);